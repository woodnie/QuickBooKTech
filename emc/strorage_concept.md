## Strorage Concept {#strorage-concept}

[自动分层存储](http://www.storageonline.com.cn/tag/ast/)（Automated Tiered Storage management,ATS）管理系统的基本业务是能够将数据安全地迁移到较低的存储层中并削减存储成本。在其他的情况下，有必要将数据迁移到更高性能 的存储层中。自动存储分层（AST）在于两个目标–降低成本和提高性能。

随机 I/O 和顺序 I/O 之间的区分非常重要，因为对于连续读写，闪存与 HDD 相比性价比优势并不明显(原因在于 HDD 非常适于处理顺序 I/O)。

目前最常见的“Sub-LUN”式自动分层存储技术，基本上可视为是三个功能的综合：（1） 存储虚拟化：将分散在不同存储层的磁盘区块，组合成虚拟的Volume或LUN.也就是将Volume或LUN的区块分散到不同存储层上。（2） 存取行为的追踪统计与分析：持续追踪与统计每个磁盘区块的存取频率，并透过定期分析，识别出存取频率高的“热”区块，与存取频率低的“冷”区块。（3） 数据迁移：以存取频率为基础，定期执行数据搬移，将热点区块数据搬移到高速存储层，较不活跃的冷区块数据则搬移到低速存储层。由于存取行为追踪统计分析与数据迁移作业，都会消耗磁盘阵列控制器的能效，因此多数自动分层存储，都会提供预设操作功能，让使用者设定允许系统执行统计分 析与数据迁移操作的时间区段，以便避开存取高峰时段，如可设定为只允许在晚上7点以后、或周五晚上到周日凌晨等下班时段，执行分析与迁移操作。

**实现 AST 的两种不同方式：迁移与缓存**基于迁移的 AST 可自动化数据迁移的流程。当一个数据块被确定为“热”数据时，会将该数据块移至速度较快的介质，当该数据块变“冷”时，会将其移回速度较慢的介质。移入和移出闪存都需要访问 HDD。对应于[VNX](http://www.storageonline.com.cn/tag/vnx/)的[FAST](http://www.storageonline.com.cn/tag/fast/) VP。